(function(t){function e(e){for(var s,i,a=e[0],l=e[1],p=e[2],u=0,c=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&c.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(c.length)c.shift()();return r.push.apply(r,p||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],s=!0,a=1;a<o.length;a++){var l=o[a];0!==n[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=s,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var p=0;p<a.length;p++)e(a[p]);var d=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var s=o("85ec"),n=o.n(s);n.a},"0ad0":function(t,e,o){"use strict";var s=o("ae37"),n=o.n(s);n.a},"56d7":function(t,e,o){"use strict";o.r(e);var s=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticStyle:{position:"relative",margin:"50px"}},[o("div",{ref:"someTarget",staticClass:"testmove"},[o("movable",{staticClass:"modaltitle",attrs:{target:"someTarget"}},[t._v("modal behavior")]),o("span",[t._v("not movable")])],1),o("movable",{staticClass:"testmove",attrs:{posTop:"444",grid:20}},[o("span",[t._v("grid:20")])]),o("movable",{staticClass:"testmove",attrs:{posTop:"222",posLeft:"222",shiftKey:"true"}},[o("span",[t._v("Shift Key Behavior")])]),o("movable",{staticClass:"testmove",attrs:{posLeft:"444",bounds:{x:[0,0]}}},[o("span",[t._v("bounds:only y")])]),o("movable",{staticClass:"testmove",attrs:{posTop:"444",posLeft:"444",bounds:{y:[0,0]}}},[o("span",[t._v("bounds:only x")])])],1)])},r=[],i={name:"app"},a=i,l=(o("034f"),o("2877")),p=Object(l["a"])(a,n,r,!1,null,null,null),d=p.exports,u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(t.tag,{directives:[{name:"movable",rawName:"v-movable",value:t.moveArgs,expression:"moveArgs"}],tag:"component",staticClass:"--movable-base",style:t.position,attrs:{"move-disabled":t.disabled}},[t._t("default")],2)},c=[],v={data:()=>({tag:"div",top:void 0,left:void 0,moveArgs:{},isMoving:!1,rpcFunc:function(){},hasInit:!1}),computed:{px(){return t=>t+"px"},position(){return this["events-only"]||!this.init?{}:{top:this.px(this.top),left:this.px(this.left)}}},name:"movable",methods:{init(){let t=this;t["tagName"]&&(this.tag=this.tagName),this.top=this["posTop"]?Number(this.posTop):this.$el.offsetTop,this.left=this["posLeft"]?Number(this.posLeft):this.$el.offsetLeft,t.hasInit=!0;let e={reposition:this.reposition,directiveInit:this.directiveInit,eventBroker:this.eventBroker};const o=["bounds","onstart","oncomplete","shiftKey","onmove","grid","vertical","horizontal","disabled","events-only"];o.filter(e=>void 0!==t[e]).forEach(o=>e[o]=t[o]),this.target&&("parent"===this.target?e.target=t.$el.parentElement:e.target=t.$parent.$refs[this.target]),this.moveArgs=e},eventBroker({name:t,args:e}){this.$emit(t,e)},directiveInit(t){this.rpcFunc=t},reposition(t){if("object"===typeof t){if(this.moveArgs.target&&!this["events-only"])return this.moveArgs.target.style.left=t.left+"px",void(this.moveArgs.target.style.top=t.top+"px");this.top=t.top,this.left=t.left}else this.isMoving=t},parentPos(t,e){let o=this;o.isMoving||o.$nextTick().then(()=>{o[t]=Number(e)})}},props:["tagName","target","bounds","onstart","oncomplete","onmove","posTop","posLeft","events-only","grid","vertical","horizontal","disabled","shiftKey"],mounted(t){this.init()},watch:{posTop(t){this.parentPos("top",t)},disabled(t){this.moveArgs.disabled=!0,this.rpcFunc({disable:!0})},posLeft(t){this.parentPos("left",t)}}},m=v,f=(o("0ad0"),Object(l["a"])(m,u,c,!1,null,"6ac6371d",null)),h=f.exports;const x=t=>isFinite(t)?Number(t):Number(t.replace(/[^0-9.\-]/g,"")),y=(t,e)=>{while(e.getAttribute("moveid")!==t)if(e=e.parentElement,!e||"BODY"===e.tagName)return!1;return!0},b=t=>{const e={x:t.pageX,y:t.pageY},o=t.target.getBoundingClientRect();return{x:e.x-(o.left+document.body.scrollLeft),y:e.y-(o.top+document.body.scrollTop)}},g=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0,o="x"===t?e:3&e|8;return o.toString(16)}));var M={update(t,e){if(t.getAttribute("moveid"))return;let o=e.value;if(o.disabled)return;let s=!!o.shiftKey,n=o.grid||1,r=o.bounds||null;const i=t=>Array.isArray(t)?t:isNaN(Number(t))?[-1/0,1/0]:[Math.min(0,Number(t)),Math.max(0,Number(t))];o.vertical?r={x:[0,0],y:i(o.vertical)}:o.horizontal&&(r={y:[0,0],x:i(o.horizontal)});let a={left:null,top:null},l=o.target||t;l.style.touchAction="none";let p=g(),d="target"+p;l.setAttribute("moveid",d),t.setAttribute("moveid",p);let u,c,v=o.onstart,m=o.onmove,f=o.oncomplete,h={};const M=window.MSPointerEvent?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:window.PointerEvent?{start:"pointerdown",move:"pointermove",end:"pointerup"}:"ontouchstart"in document.documentElement?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},C=()=>{w();const t=t=>l.getAttribute("move-disabled")||t.getAttribute("moveid")===d||!y(p,t)||u;if(window.PointerEvent||window.MSPointerEvent)document.body.addEventListener(M.start,e=>{t(e.target)||(document.body.setPointerCapture(e.pointerId),e.preventDefault(),e.stopPropagation(),void 0!==e.pointerId&&(c=e.pointerId),P(e),document.body.addEventListener(M.end,N,!1),document.body.addEventListener(M.move,(function(t){void 0!==c&&t.pointerId===c&&A(t)}),!1))},!1);else{const e=e=>{t(e.target)||(e.preventDefault(),e.stopImmediatePropagation(),P(e),document.body.addEventListener(M.end,N,!1),document.body.addEventListener(M.move,A,!1))};l.addEventListener(M.start,e,!1)}};function w(t){if(r=t||r,!r)return a.left=[-1/0,1/0],void(a.top=[-1/0,1/0]);let e={left:x(l.style.left)||0,top:x(l.style.top)||0};r.x?a.left=[e.left+r.x[0],e.left+r.x[1]]:a.left=[-1/0,1/0],r.y?a.top=[e.top+r.y[0],e.top+r.y[1]]:a.top=[-1/0,1/0]}const P=t=>{h.mouseCoord=E(t),h.startCoord={x:x(l.style.left),y:x(l.style.top)},isNaN(h.startCoord.x)&&(h.startCoord.x=0),isNaN(h.startCoord.y)&&(h.startCoord.y=0),h.moveDist={x:0,y:0},h.totalDist={x:0,y:0},h.clickOffset=b(t),h.css={top:h.startCoord.y,left:h.startCoord.x},h.maxX=a.left[0]+a.left[1],h.maxY=a.top[0]+a.top[1],u=!0,o.reposition(!0),o.eventBroker({name:"start",args:h}),v&&v(h)},A=function(t){t.stopPropagation();let e=E(t);h.moveDist={x:e.x-h.mouseCoord.x,y:e.y-h.mouseCoord.y},h.mouseCoord=e,h.totalDist={x:h.totalDist.x+h.moveDist.x,y:h.totalDist.y+h.moveDist.y},h.css.top=h.totalDist.y,h.css.left=h.totalDist.x,h.gridCss={left:Math.round(h.totalDist.x/n)*n+h.startCoord.x,top:Math.round(h.totalDist.y/n)*n+h.startCoord.y},h.css=h.gridCss;const i=t=>void 0===t||Array.isArray(t)&&t[0]<-99999&&t[1]>99999;if(s&&t.shiftKey&&(null===r||i(r.x)&&i(r.y))){let{x:t,y:e}=h.totalDist;Math.abs(t)>Math.abs(e)?h.css.top=h.startCoord.y:h.css.left=h.startCoord.x}else h.css.top=Math.min(Math.max(a.top[0],h.css.top),a.top[1]),h.css.left=Math.min(Math.max(a.left[0],h.css.left),a.left[1]);h.pctX=Math.max(a.left[0],h.css.left)/h.maxX,h.pctY=Math.max(a.top[0],h.css.top)/h.maxY,o.reposition(h.css),m&&m(h),o.eventBroker({name:"move",args:h})},N=t=>{c=null,u=!1,document.body.removeEventListener(M.move,A),D(t)},D=t=>{document.body.removeEventListener(M.end,N),f&&f(h),u=h.isMoving=!1,o.reposition(!1),o.eventBroker({name:"complete",args:h}),t&&t.preventDefault()},E=t=>{let e={};return e.x=t.pageX,e.y=t.pageY,e};C()}},C={install(t){t.directive("movable",M),t.component("movable",h)}};s["a"].config.productionTip=!1,s["a"].use(C),new s["a"]({render:t=>t(d)}).$mount("#app")},"85ec":function(t,e,o){},ae37:function(t,e,o){}});
//# sourceMappingURL=app.845a1b1c.js.map